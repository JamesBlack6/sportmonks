---
title: "sportmonks"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = T, message = F, error = F, warning = F)
```

```{r, echo = FALSE, results='asis', eval = T}
library(badger)
git_repo <- "systats/sportmonks"
cat(
  badge_custom("Premium", "Soccer Data", "yellow"),
  badge_devel(git_repo, "blue"),
  #badge_travis(git_repo),
  #"[![Codecov test coverage](https://codecov.io/gh/favstats/peRspective/branch/master/graph/badge.svg)](https://codecov.io/gh/favstats/peRspective?branch=master)",
	badge_code_size(git_repo),
	badge_last_commit(git_repo)
)
```

# Packages

```{r}
pacman::p_load(tidyverse, usethis, devtools, httr, jsonlite, xml2, listviewer, janitor)
devtools::load_all()
# devtools::document()
# devtools::test()
```


```{r}
key <- read_json("tests/settings.json")[[1]]
Sys.setenv(sportmonks = key)
Sys.getenv("sportmonks")
```


# Endpoints

## Continents

```{r}
get_continents()
get_continent(1)
```

## Country

```{r}
get_countries()
get_country(2)
```

## Leagues

```{r}
get_leagues()
get_league(271)
```


## Seasons

```{r}
get_seasons()
get_season(1273)
```


## Fixtures

```{r}
get_fixture(id = 10333321)
get_fixtures(ids = c(10333321, 10333322))
get_fixture(date = "2019-01-23")
get_fixtures(dates = c("2019-01-01", "2019-02-01"))
# missing: get by date range for team
```

## Livescores

```{r}
get_live()
# get_live_now()
# all 
# inplay
```


## Comments

```{r}
get_comments(10333321)
```


## Highlights

```{r}
get_highlights(10333321)
```

## Head2Head

```{r}
get_head2head(team1 = 309, team2 = 66)
```


## Teams

```{r}
get_team(180)
get_team(season_id = 1273)
```

## Players

```{r}
get_player(180)
```

## Topscores

```{r}
get_topscores(season_id = 1273, agg = T)
```

## Venues

```{r}
get_venue(8928)
# by id
# by season id
```

## Rounds

```{r}
get_round(round_id = 147767)
get_round(season_id = 12963)
```


## Odds

```{r}
get_odds(10333321)

# by fixture and bookmarker
# by fixture and market
# by fixture id
# inplay odds by fixture id
```


## Coaches

```{r}
get_coache(896462)
```


## Stages

```{r}
get_stage(stage_id = 7508262)
get_stage(season_id = 12963)
```

## Bookmarkers

```{r}
get_bookmakers()
get_bookmaker(book_id = 25679219)
```


## Markets

```{r}
get_markets()
get_market(id = 10)
```

## Team Squads

```{r}
get_team_squads(season_id = 12963, team_id = 180)
```

## TV-stations

```{r}
get_tv(10333321)
```


```{r}
sessionInfo()
```

